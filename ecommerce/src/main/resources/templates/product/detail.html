<!DOCTYPE html>
<html 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/template}"
    >

    <main layout:fragment="main" class="container my-5">
        <div class="row border border-3 rounded p-5">
            <!-- 왼쪽: 이미지 -->
            <div class="col-md-6 d-flex justify-content-center align-items-center">
                <img src="#" alt="img" class="img-fluid">
            </div>

            <!-- 오른쪽: 정보 -->
            <div class="col-md-6 d-flex flex-column align-items-start">
                <header class="mb-4">
                    <h3 class="fw-bolder mb-1 text-truncate">[[${product.name}]]</h3>
                </header>
                <section class="mb-0">
                    <p class="fs-5 mb-4">[[${product.detail}]]</p>
                    <p>[[${product.price}]]원</p>
                    <p>#[[${product.tag}]]</p>
                    
                </section>
                
                <hr/>


                <div class="d-flex">
	                <a href="/list" class='btn btn-primary btn-sm m-1'>목록으로 이동</a>
	                <a th:if="${#authentication.principal.id eq product.admin.id}"
	                   th:href="@{'/modify/' + ${product.id}}" class='btn btn-success btn-sm m-1'>
	                    수정</a>
	                <form th:if="${#authentication.principal.id eq product.admin.id}"
	                      class='d-inline' th:action="@{'/delete/' + ${product.id}}" th:method="DELETE">
	                    <button class='btn btn-danger btn-sm m-1'>삭제</button>
	                </form>	                
                </div>
                
                <div th:if="${#authentication.principal.id eq product.admin.id}"
                    class="text-muted fst-italic mb-2 text-truncate">
                    등록자 : [[${product.admin.name}]]
                </div>
                <div th:if="${#authentication.principal.id eq product.admin.id}"
                    class="text-muted fst-italic mb-2 text-truncate">
                    등록일 : [[ ${#temporals.format(product.createdAt, 'yyyy-MM-dd HH:mm')} ]]
                </div>
                
                <div th:if="${#authentication.principal.id eq product.admin.id}"
                    class="text-muted fst-italic mb-2 text-truncate">
                    수정일 : [[ ${#temporals.format(product.updatedAt, 'yyyy-MM-dd HH:mm')} ]]
                </div>
            </div>
        </div>
    </main>
    
</html>
